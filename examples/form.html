<!DOCTYPE html>
<html>
    <head>
        <script src="../src/Atto.js"></script>
        <script src="js/form.js"></script>
        <link rel="stylesheet" type="text/css" href="css/form.css">
    </head>
    <body>
        <div class="name js-name"></div>
        <div class="js-atto-target">
            <test-form data-start="0" data-end="30"></test-form>
            <form-test data-start="0" data-end="30"></form-test>
        </div>
    </body> 
    <script>
    var start = new Date().getTime();
        Atto.run({
            target: document.getElementsByClassName('js-atto-target')
        });
        var e = Atto.get('test-form');//Atto.create('test-form', {'data-start': 10, 'data-end': 20}, true).render();
        e[0].setAttribute('data-start', 10);
        e[0].removeAttribute('data-end', 40);
        e[0].rerender();
        console.log((new Date().getTime() - start) + ' ms');
        
        qs = document.location.search.split("+").join(" ");

        var params = {},
            name = 'Welcome ',
            tokens,
            re = /[?&]?([^=]+)=([^&]*)/g;

        while (tokens = re.exec(qs)) {
            params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
        }
        // console.log(params);
        if (('first-name' in params) && ('last-name' in params)) {
            name += params['first-name'] + ' ' + params['last-name'];
        } else {
            name += 'Anonymous';
        }
        
        document.getElementsByClassName('js-name')[0].innerHTML = name;
        // document.body.appendChild(e);
    </script>
</html>